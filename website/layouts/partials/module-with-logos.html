{{ $repo := .repo }}
{{ $module := .module }}

<!--
<table>
</table>
-->

<h3>Quick links</h3>

<table width="100%">
    <!--
    <tr>
        <td>
            {{ $repo }}
        </td>
    </tr>
    <tr>
        <td>
            {{ $module }}
        </td>
    </tr>
    -->

    {{ $bitbucket_repo := cond (.bitbucket | not | not) .bitbucket $module.id }}
    {{ $group_id := cond ($repo.group | not | not) $repo.group "com.foreach.across.modules" }}

    {{ $ref_doc := $module.id }}
    {{ if $module.refdoc }}
    {{ $ref_doc = $module.refdoc }}
    {{ else if $repo.refdoc }}
    {{ $ref_doc = $repo.refdoc }}
    {{ end }}

    {{ $java_doc := printf "across-standard-modules/%s" (index $module "java-class") }}
    {{ if $module.javadoc }}
    {{ $java_doc = printf "across-standard-modules/%s" $module.javadoc }}
    {{ else if $repo.javadoc }}
    {{ $java_doc = printf "across-standard-modules/%s" $repo.javadoc }}
    {{ else if eq $repo.id "across-framework" }}
    {{ $java_doc = "across" }}
    {{ else if eq $repo.id "across-autoconfigure" }}
    {{ $java_doc = "across-autoconfigure" }}
    {{ else if eq $repo.id "across-platform" }}
    {{ $java_doc = "across-platform" }}
    {{ end }}

    {{ $bitbucket := $module.id }}
    {{ if $module.bitbucket }}
    {{ $bitbucket = $module.bitbucket }}
    {{ else if $repo.bitbucket }}
    {{ $bitbucket = $repo.bitbucket }}
    {{ end }}

    <tr>
        <td>
            <a href="https://github.com/ForeachOS/{{ $repo.id }}" target="github-{{ $repo.id }}">
                <img src="/img/logos/github.png"
                     height="48"
                     alt="GitHub project for {{ $module.id }}"/>
            </a>
        </td>
    </tr>
    <tr>
        <td>
            <a href="https://gitlab.isaac.nl/antwerpen/across/{{ $repo.id }}" target="gitlab-{{ $repo.id }}">
                <img src="/img/logos/gitlab.png"
                     height="32"
                     alt="GitLab project for {{ $module.id }}"/>
            </a>
        </td>
    </tr>
    <tr>
        <td>
            <a href="https://foreach-across.github.io/ref-docs-5/{{ $ref_doc }}" target="refdoc-{{ $module.id }}">
                Docs
            </a>
        </td>
    </tr>
    <tr>
        <td>
            <a href="https://docs.across.dev/{{ $java_doc }}" target="javadoc-{{ $module.id }}">
                API
            </a>
        </td>
    </tr>
    <tr>
        <td>
            <a href="https://central.sonatype.com/artifact/{{ $group_id }}/{{ $module.id }}"
               target="maven-central-{{ $module.id }}">
                <img src="https://img.shields.io/maven-central/v/{{ $group_id }}/{{ $module.id }}"
                     height="32"
                     alt="Maven central link for {{ $module.id }}"/>
            </a>
        </td>
    </tr>
    <tr>
        <td>
            <a href="https://bitbucket.org/beforeach/{{ $bitbucket }}" target="bitbucket-{{ $module.id }}">
                <img src="/img/logos/bitbucket.svg" alt="Bitbucket project for {{ $module.id }}"/>
            </a>
        </td>
    </tr>
    <tr>
        <td>
            {{ if $module.key }}
            <a href="https://foreach.atlassian.net/projects/{{ $module.key }}/issues" target="jira-{{ $module.id }}">
                <img src="/img/logos/jira.svg" alt="Jira project for {{ $module.id }}"
                     height="32"
                />
            </a>
            {{ end }}
        </td>
    </tr>
</table>
